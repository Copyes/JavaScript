<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>实现列表类</title>
</head>
<body>
	
</body>
<script type="text/javascript">
	//定义构造函数
	function initList(){
		//返回当前列表的个数
		this.listSize = 0;
		//返回当前元素的位置
		this.pos = 0;
		//返回当前列表的长度
		this.length = length;
		//返回当前位置的元素
		this.getElement = getElement;
		//使用数组来保存列表数据
		this.dataStore = [];
		//清楚列表
		this.clear = clear;
		//寻找元素是否存在
		this.find = find;
		//将元素转化成字符串
		this.toString = toString;
		//在现有的元素后面加入新元素
		this.insert = insert;
		//在列表末尾加入新元素
		this.append = append;
		//从列表中删除元素
		this.remove = remove;
		//将列表的当前位置移动到第一个
		this.front = front;
		//将列表的当前位置移动到最末尾
		this.end = end;
		//将当前位置向前移动一位
		this.prev = prev;
		//将当前位置向后移动一位
		this.next = next;
		//返回列表的当前位置
		this.curPos = curPos;
		//将当前位置移动到指定位置
		this.moveTo = moveTo;
	}

	function append(element){
		this.dataStore[this.listSize++] = element;
	}

	function find(element){
		for (var i = 0; i < this.dataStore.length; ++i) {
			if (this.dataStore[i] == element) {
				return i ;
			}
		}
		return false;
	}

	function remove(element){
		var findPos = this.find(element);
		if (findPos > -1) {
			this.dataStore.splice(findPos,1);
			--this.listSize;
			return true;
		}
		return false;
	}

	function length(){
		return this.listSize;
	}

	function toString(){
		return this.dataStore;
	}

	function insert(element,after){
		var insertPos = this.find(after);
		if (insertPos > -1) {
			this.dataStore.splice(insertPos+1,1,element);
			++this.listSize;
			return true;
		}
		return false;
	}

	function clear(){
		delete this.dataStore;
		this.dataStore = [];
		this.listSize = this.pos = 0;
	}

	function front(){
		this.pos = 0;
	}
	function end(){
		this.pos = this.listSize-1;
	}

	function prev(){
		if(this.pos>0){
			--this.pos;
		}
	}

	function next(){
		if (this.pos < this.listSize-1) {
			++this.pos;
		};
	}

	function curPos(){
		return this.pos;
	}

	function moveTo(position){
		this.pos = position;
	}
	function getElement(){
		return this.dataStore[this.pos];
	}

	var names = new initList();
	names.append('fan');
	names.append('chao');
	names.append('copy');
	console.log(names.toString());
	names.remove('chao');
	console.log(names.dataStore);
</script>
</html>